import{S as A,i as C,s as M,e as m,a as E,f as _,g,t as v,d as f,h as O,l as b,y as T,r as y}from"./index.534f2e7f.js";const j=n=>{try{return JSON.parse(n)}catch{return n=n.replace(/([a-zA-Z0-9_$]+\s*):/g,'"$1":').replace(/'([^']+?)'([\s,\]\}])/g,'"$1"$2'),JSON.parse(n)}},I={"[":"]","{":"}"},L=(n,e)=>{let r;for(let a=0;a<n.length&&(r=e(n[a],a,n),!r);a++);return r},R=n=>{let e=n.search(/[\{\[]/);if(e===-1)return null;let r=n[e],a=I[r],i=-1,l=0;return n=n.substring(e),L(n,(t,c)=>{if(t===r?l++:t===a&&l--,!l)return i=c,!0}),i===-1?null:n.substring(0,i+1)};var H=n=>{let e;const r=[];for(;(e=R(n))!==null;){try{let a=j(e);r.push(a)}catch{}n=n.replace(e,"")}return r};let N={1:'require(!config.permanent, "1");  // the contract was made permanent and no updates can be made',2:'require(!config.permanent, "2");  // the contract was made permanent and no updates can be made',3:'require(!withdrawer.permanent, "3");  // the withdrawer has been fixed permanently',4:'require(_msgSender() == owner() || _msgSender() == withdrawer.account, "4");  // only the owner or the withdrawer can call the withdraw() function',5:'require(sent1, "5");  // error while withdrawing funds',6:'require(sent2, "6");  // error while withdrawing funds',7:'require(verify(auth, _msgSender()), "7"); // invalid merkle proof for the invite list',8:'require(i.price * _count == msg.value, "8");  // incorrect ETH amount',9:'require(i.start <= block.timestamp, "9"); // the mint has not started yet for this invite',10:'require(minted[_msgSender()][auth.key] + _count <= i.limit, "10"); // mint limit reached',11:'require(n+_count-1 <= config.supply, "11");  // cannot mint above total supply',12:'require(_count > 0, "12"); // can gift at least one or more',13:'require(n+_count-1 <= config.supply, "13");  // cannot givt above total supply',14:'require(_isApprovedOrOwner(_msgSender(), _tokenId), "14"); // you do not have the authority to burn the token',15:'require(tokenId > 0 && tokenId <= config.supply, "15");',16:'require(!config.permanent, "16");  // the contract was made permanent and no updates can be made'},Z=n=>{let e=H(n);if(e.length>0){if(e=e[0],e.originalError){let r=/execution reverted: (.+)$/.exec(e.originalError.message);if(r&&r.length>0){let a=r[1],i=`[ERROR ${a}] ${N[""+a]}`;e.message=i}}return e.message}else return n};function k(n,e,r){const a=n.slice();return a[6]=e[r],a}function q(n,e,r){const a=n.slice();return a[9]=e[r],a}function x(n){let e,r,a,i=n[9].id+"",l,o;return{c(){e=m("td"),r=m("a"),a=v("token #"),l=v(i),f(r,"target","_blank"),f(r,"class","btn display"),f(r,"href",o=n[9].url),f(e,"class","svelte-1g77f71")},m(t,c){_(t,e,c),g(e,r),g(r,a),g(r,l)},p(t,c){c&1&&i!==(i=t[9].id+"")&&O(l,i),c&1&&o!==(o=t[9].url)&&f(r,"href",o)},d(t){t&&b(e)}}}function S(n){let e,r,a=n[6],i=[];for(let l=0;l<a.length;l+=1)i[l]=x(q(n,a,l));return{c(){e=m("tr");for(let l=0;l<i.length;l+=1)i[l].c();r=E()},m(l,o){_(l,e,o);for(let t=0;t<i.length;t+=1)i[t].m(e,null);g(e,r)},p(l,o){if(o&1){a=l[6];let t;for(t=0;t<a.length;t+=1){const c=q(l,a,t);i[t]?i[t].p(c,o):(i[t]=x(c),i[t].c(),i[t].m(e,r))}for(;t<i.length;t+=1)i[t].d(1);i.length=a.length}},d(l){l&&b(e),T(i,l)}}}function z(n){let e,r,a,i,l=n[0],o=[];for(let t=0;t<l.length;t+=1)o[t]=S(k(n,l,t));return{c(){e=m("div"),r=m("table"),a=m("tr"),a.innerHTML=`<th class="svelte-1g77f71">Opensea</th> 
      <th class="svelte-1g77f71">Looksrare</th> 
      <th class="svelte-1g77f71">Rarible</th>`,i=E();for(let t=0;t<o.length;t+=1)o[t].c();f(r,"class","svelte-1g77f71"),f(e,"class","form")},m(t,c){_(t,e,c),g(e,r),g(r,a),g(r,i);for(let s=0;s<o.length;s+=1)o[s].m(r,null)},p(t,[c]){if(c&1){l=t[0];let s;for(s=0;s<l.length;s+=1){const u=k(t,l,s);o[s]?o[s].p(u,c):(o[s]=S(u),o[s].c(),o[s].m(r,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=l.length}},i:y,o:y,d(t){t&&b(e),T(o,t)}}}function F(n,e,r){let a=[],{web3:i}=e,{contract:l}=e,{tx:o}=e;const t=(s,u,h,d)=>({rinkeby:{opensea:`https://testnets.opensea.io/assets/${u}/${h}`,rarible:`https://rinkeby.rarible.com/token/${u.toLowerCase()}:${h}`,looksrare:`https://rinkeby.looksrare.org/collections/${u}/${h}`},mainnet:{opensea:`https://opensea.io/assets/${u}/${h}`,rarible:`https://rarible.com/token/${u.toLowerCase()}:${h}`,looksrare:`https://looksrare.org/collections/${u}/${h}`}})[s][d];return(async()=>{if(o){console.log("Tx",o);let u=await i.eth.getChainId()==4?"rinkeby":"mainnet",d=(Array.isArray(o.events.Transfer)?o.events.Transfer:[o.events.Transfer]).map(p=>p.returnValues.tokenId);r(0,a=d.map(p=>["opensea","looksrare","rarible"].map(w=>({site:w,id:p,url:t(u,l,p,w)})))),console.log("links",a)}})(),n.$$set=s=>{"web3"in s&&r(1,i=s.web3),"contract"in s&&r(2,l=s.contract),"tx"in s&&r(3,o=s.tx)},[a,i,l,o]}class $ extends A{constructor(e){super(),C(this,e,F,z,M,{web3:1,contract:2,tx:3})}}export{$ as M,Z as h};
